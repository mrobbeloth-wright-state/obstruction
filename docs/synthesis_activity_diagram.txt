@startuml
:Find starting segment id;
:Find ending segment id;
:Calc total segments to process/pass;
:Grab filenames from db for sanity check;
:Init data structures;
:Sanity check starting and ending ids;
:Sanity check filenames from db;
:Set starting segment for loop;
:Set ending segment for loop;
:current segment = starting segment;
while (current segment < ending segment?)
   :Set innerLoopCounter = 0;
   while (innerLoopCounter < total segments)
      :blah;
      note right
         Move through all segments 
         in image relative to this 
         segment
      end note
      :Get current segment moment (start+counter);
      :Sanity check CSM is present;
      :Apply distance formula from start to current;
      :Use distance as key into treemap;
   endwhile
   :Increment current segment;
endwhile
@enduml
